"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_slicedToArray=function(){function t(t,e){var r=[],i=!0,a=!1,o=void 0;try{for(var n,d=t[Symbol.iterator]();!(i=(n=d.next()).done)&&(r.push(n.value),!e||r.length!==e);i=!0);}catch(t){a=!0,o=t}finally{try{!i&&d.return&&d.return()}finally{if(a)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.default={data:function(){return{}},methods:{prepareDataForSubmission:function(t){var e=this,r=Object.assign({},t);return Object.keys(this.fieldSet).forEach(function(i){var a=e.fieldSet[i];if("file"===a.dataType||"image"===a.dataType?Array.isArray(t[i])&&(delete r[i],r[i]=t[i][0]):"time"===a.dataType&&(r[i]=Vue.filter("rwtime")(r[i])),a.orderPivotField){var o=t[i];if(Array.isArray(o)){var n=!0,d=!1,f=void 0;try{for(var y,l=o.entries()[Symbol.iterator]();!(n=(y=l.next()).done);n=!0){var u=y.value,c=_slicedToArray(u,2),p=c[0],s=c[1];s.pivot||(s.pivot=[]),s.pivot[a.orderPivotField]=p}}catch(t){d=!0,f=t}finally{try{!n&&l.return&&l.return()}finally{if(d)throw f}}}}}),r},prepareIncomingData:function(t){var e=this;return Object.keys(this.fieldSet).forEach(function(r){var i=e.fieldSet[r];if("file"===i.dataType||"image"===i.dataType?t[r]=[t[r]]:"date"===i.dataType?null!==t[r]&&"object"===_typeof(t[r])&&t[r].date?t[r]=Vue.filter("rdate")(t[r].date,"dbdate"):t[r]=Vue.filter("rdate")(t[r],"dbdate"):"time"===i.dataType?t[r]=Vue.filter("rdate")(t[r],"time"):"datetime"===i.dataType&&(t[r]=Vue.filter("rdate")(t[r],"dbdatetime")),i.orderPivotField){var a=t[r];Array.isArray(a)&&a.sort(function(t,e){return t.pivot[i.orderPivotField]-e.pivot[i.orderPivotField]})}}),t}}};